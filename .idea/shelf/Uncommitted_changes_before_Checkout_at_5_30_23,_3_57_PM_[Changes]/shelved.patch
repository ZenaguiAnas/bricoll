Index: nextjs/app/signin/page.tsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\"use client\"\nimport {useState} from 'react';\nimport SigninForm from \"../../components/auth/signin\";\n\nconst SigninPage = () => {\n    // const router = useRouter();\n    const [isOpen, setIsOpen] = useState(false);\n\n    const toggleNavbar = () => {\n        setIsOpen(!isOpen);\n    };\n\n\n    return (\n        <>\n            <nav className=\"container mx-auto p-6  bg-danger\">\n                <div className=\"flex items-center justify-between\">\n                    <div>\n                        <p className=\"text-primary font-bold text-2xl px-6\">BRICOL</p>\n                    </div>\n                    <div className=\"md:hidden\">\n                        <button\n                            className=\"text-gray-500 hover:text-gray-600 focus:outline-none\"\n                            onClick={toggleNavbar}\n                        >\n                            <svg\n                                className=\"h-6 w-6\"\n                                fill=\"none\"\n                                strokeLinecap=\"round\"\n                                strokeLinejoin=\"round\"\n                                strokeWidth=\"2\"\n                                viewBox=\"0 0 24 24\"\n                            >\n                                <path d=\"M4 6h16M4 12h16M4 18h16\"></path>\n                            </svg>\n                        </button>\n                    </div>\n                </div>\n            </nav>\n            <div className=\"flex  flex-col items-center\">\n                <SigninForm/>\n            </div>\n        </>\n    );\n};\n\nexport default SigninPage;\n\n\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/nextjs/app/signin/page.tsx b/nextjs/app/signin/page.tsx
--- a/nextjs/app/signin/page.tsx	(revision f4bfc95e665b96b55c7d09dde6024c5fa8e35265)
+++ b/nextjs/app/signin/page.tsx	(date 1685458323513)
@@ -1,15 +1,28 @@
 "use client"
-import {useState} from 'react';
+import {useEffect, useState} from 'react';
 import SigninForm from "../../components/auth/signin";
+import {useRouter} from "next/navigation";
+import {useSession} from "next-auth/react";
+import {UserRole} from "../../types/resolvers";
 
 const SigninPage = () => {
     // const router = useRouter();
     const [isOpen, setIsOpen] = useState(false);
+    const {data: session} = useSession()
+    const router = useRouter()
 
     const toggleNavbar = () => {
         setIsOpen(!isOpen);
     };
 
+    useEffect(() => {
+        // if the user is logged in and has not completed his profile, redirect him to the profile page
+        if (session && !session.user.isCompleted) router.push('/register')
+        // if the client is logged in and has completed his profile, redirect him to the dashboard page
+        if (session && session.user.userRole === UserRole.Client && session.user.isCompleted) router.push('/dashboard')
+        // if the freelancer is logged in and has completed his profile, redirect him to the find-work page
+        if (session && session.user.userRole === UserRole.Freelancer && session.user.isCompleted) router.push('/find-work')
+    }, [session])
 
     return (
         <>
